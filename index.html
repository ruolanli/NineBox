<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Day11 Â· 9è¯å›åˆè®­ç»ƒï½œè¯å¡ + ä¾‹å¥ + é”™é¢˜æœ¬</title>
<style>
  :root{
    /* â€”â€” Paletteï¼ˆä½ çš„è‰²æ¿ï¼‰ â€”â€” */
    /* ä¸»ä½“å†·ç°è“ */
    --navy:#151B32;           /* å¤œè‰²æµ·å†›è“ï¼ˆèƒŒæ™¯èµ·ç‚¹/æè¾¹å»ºè®®ï¼‰ */
    --steel:#232E51;          /* é’¢é“æ·±è“ */
    --indigo:#34496D;         /* é›è“ */
    --slate:#5E6E93;          /* çŸ³æ¿ç°è“ï¼ˆä¸»é¢˜è‰²ï¼‰ */
    --mist1:#708AAA;          /* é›¾éœ­ç°è“ï¼ˆæ·±ï¼‰ */
    --mist2:#A8B1C9;          /* é›¾éœ­ç°è“ï¼ˆæµ…ï¼‰ */
    --mist3:#B7C6D8;          /* é›¾éœ­ç°è“ï¼ˆæ›´æµ…ï¼‰ */
    --cool:#999BB0;           /* å†·ç°ç´« */

    /* é«˜å…‰/ä¸»ä½“ */
    --ice:#DFDDE1;            /* å†°ç™½/é“¶ç™½ */
    --lav:#C8BAC8;            /* æ·¡è–°è¡£è‰ç°ï¼ˆè‹¥éšï¼‰ */

    /* ç‚¹ç¼€çº¢ï¼ˆæå°‘é‡ï¼‰ */
    --crimson:#E41232;        /* ç»¯çº¢ï¼ˆå¼ºè°ƒ/æŒ‰é’®ï¼‰ */
    --rose:#E41E4B;           /* æ·±ç»›çº¢ï¼ˆå¼ºè°ƒæ¢¯åº¦2ï¼‰ */
    --wine:#A42C53;           /* é…’çº¢ */

    /* è‚¤è‰²/é˜´å½±ï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰ */
    --skin:#DAC6B6;           /* æ¸©æš–ç±³æ */
    --roseShadow:#96616E;     /* ä½é¥±å’Œç«ç‘°å½± */

    /* â€”â€” ä¸»é¢˜å˜é‡ â€”â€” */
    --bg: var(--navy);                    /* èƒŒæ™¯æ¸å˜èµ·ç‚¹ */
    --bg2: var(--mist2);                  /* èƒŒæ™¯æ¸å˜ç»ˆç‚¹ */
    --txt:#F7F7FA;                        /* é¡µé¢ä¸»æ–‡å­—ï¼šå†°ç™½ï¼ˆæš—åº•ï¼‰ */
    --muted:var(--mist3);                 /* æ¬¡çº§æ–‡å­— */
    --card:rgba(247,247,250,.80);         /* å†°ç™½åŠé€æ˜ â‰ˆ80%ï¼ˆå¡ç‰‡åº•ï¼‰ */
    --blur:10px;
    --stroke:rgba(21,27,50,.22);          /* æ·±è“æè¾¹ */

    /* å¼ºè°ƒè‰²ï¼šå°‘é‡çº¢è‰²æŠ“çœ¼ */
    --accent:var(--crimson);
    --accent2:var(--rose);

    /* çŠ¶æ€è‰² */
    --ok:var(--slate);
    --warn:var(--roseShadow);
    --danger:var(--crimson);

    /* æµ…å¡ç‰‡ä¸Šçš„æ–‡å­—è‰² */
    --ink-card:#151B32;
  }

  html,body{height:100%}
  body{
    margin:0;
    background:
      radial-gradient(1100px 65% at 8% -10%, rgba(35,46,81,.55) 0%, transparent 60%),
      radial-gradient(900px 55% at 115% 25%, rgba(52,73,109,.45) 0%, transparent 55%),
      linear-gradient(180deg,var(--bg),var(--bg2));
    color:var(--txt);
    font:16px/1.5 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans SC","PingFang SC","Hiragino Sans GB",sans-serif;
  }

  .app{max-width:1000px;margin:0 auto;padding:20px 16px 28px}
  header.head{display:flex;gap:14px;align-items:center;justify-content:space-between;flex-wrap:wrap}
  .title{display:flex;align-items:center;gap:10px}
  .title h1{font-size:20px;margin:0;font-weight:700;letter-spacing:.3px;color:var(--mist3)}
  .badge{font-size:12px;padding:4px 8px;border:1px solid var(--stroke);border-radius:999px;background:rgba(223,221,225,.18);color:var(--mist3)}

  .controls{display:flex;gap:8px;flex-wrap:wrap}
  .btn{
    appearance:none;border:1px solid var(--stroke);
    background:linear-gradient(180deg,rgba(255,255,255,.96),rgba(255,255,255,.86));
    color:var(--ink-card);padding:8px 12px;border-radius:10px;font-size:14px;cursor:pointer;
    backdrop-filter:blur(var(--blur));transition:.2s;display:inline-flex;align-items:center;gap:8px
  }
  .btn:hover{transform:translateY(-1px);box-shadow:0 10px 24px -16px rgba(15,26,46,.35)}
  .btn[disabled]{opacity:.55;cursor:not-allowed}

  .btn.primary{
    border-color:rgba(228,18,50,.35);
    box-shadow:inset 0 0 0 1px rgba(228,18,50,.25);
    background:linear-gradient(180deg,rgba(255,255,255,.98),rgba(255,255,255,.90));
    color:var(--ink-card);
  }
  .btn.ghost{background:transparent;color:var(--mist3)}

  .tabs{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}
  .tabs .tab{padding:6px 12px;border:1px solid var(--stroke);border-radius:999px;font-size:13px;color:var(--mist3);cursor:pointer;background:rgba(255,255,255,.03)}
  .tabs .tab.active{color:var(--ice);border-color:rgba(94,110,147,.45);box-shadow:inset 0 0 0 1px rgba(94,110,147,.35)}

  /* ç½‘æ ¼å¡ç‰‡ */
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
  @media (max-width:760px){.grid{grid-template-columns:repeat(2,1,fr)}}
  @media (max-width:520px){.grid{grid-template-columns:1fr}}
  .card{
    position:relative;padding:16px;border-radius:16px;
    background:var(--card);
    border:1px solid var(--stroke);
    backdrop-filter:blur(var(--blur));
    min-height:120px;display:flex;flex-direction:column;gap:8px;
    color:var(--ink-card);
  }
  .term{font-size:22px;font-weight:800;letter-spacing:.2px;margin:6px 0;color:var(--navy)}
  .cn{color:var(--ok);font-size:18px;display:none}
  .cn.show{display:block}
  .meta{font-size:12px;color:var(--slate)}
  .toolbar{position:absolute;top:8px;right:8px;display:flex;gap:6px}
  .iconbtn{
    border:1px solid var(--stroke);background:rgba(255,255,255,.92);
    width:34px;height:32px;border-radius:9px;display:grid;place-items:center;
    color:var(--slate);cursor:pointer
  }
  .iconbtn.active{color:var(--crimson);box-shadow:inset 0 0 0 1px rgba(228,18,50,.35)}
  .iconbtn:hover{transform:translateY(-1px)}

  /* ä¾‹å¥åŒºåŸŸ */
  .sentences{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
  .sentence{
    padding:16px 16px;border-radius:14px;background:var(--card);
    border:1px solid var(--stroke);backdrop-filter:blur(var(--blur));
    color:var(--ink-card);
  }
  .en{font-weight:700;color:var(--navy)}
  .zh{display:none;color:var(--ok)}
  .zh.show{display:block;margin-top:6px}

  footer.foot{margin-top:16px;display:flex;gap:10px;align-items:center;justify-content:space-between;color:var(--mist3)}
  .meter{height:8px;background:rgba(247,247,250,.15);border-radius:999px;overflow:hidden;flex:1}
  .bar{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));width:0%}

  /* æ¨¡æ€å±‚ */
  .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(10,12,20,.35);backdrop-filter:blur(6px);z-index:40}
  .modal.show{display:grid}
  .dialog{
    width:min(720px,92vw);
    background:linear-gradient(180deg,rgba(255,255,255,1),rgba(255,255,255,.92));
    border:1px solid var(--stroke);border-radius:16px;padding:18px;color:var(--ink-card)
  }

  /* å½©çº¸ */
  .burst{position:fixed;pointer-events:none;inset:0;overflow:hidden;z-index:60}
  .piece{position:absolute;width:8px;height:12px;opacity:0;animation:pop 1s ease-out forwards}
  @keyframes pop{0%{transform:translate(var(--x),var(--y)) rotate(0) scale(.8);opacity:1}
                 100%{transform:translate(var(--x2),var(--y2)) rotate(720deg) scale(1);opacity:0}}

  .hint{font-size:12px;color:var(--mist1)}
</style>
</head>
<body>
  <div class="app">
    <header class="head">
      <div class="title" id="title">
        <span class="badge">Day11</span>
        <h1>9è¯å›åˆè®­ç»ƒ Â· è¯å¡ â†” ä¾‹å¥ Â· é”™é¢˜æœ¬</h1>
      </div>
      <div class="controls">
        <button class="btn" id="prevBtn">â† ä¸Šä¸€å›åˆ</button>
        <button class="btn primary" id="toggleViewBtn">åˆ‡æ¢åˆ°ä¾‹å¥é¡µ</button>
        <button class="btn" id="nextBtn">ä¸‹ä¸€å›åˆ â†’</button>
        <button class="btn ghost" id="showAllBtn">æ˜¾ç¤ºå…¨éƒ¨è¯‘æ–‡</button>
        <button class="btn ghost" id="hideAllBtn">éšè—å…¨éƒ¨è¯‘æ–‡</button>
        <button class="btn" id="shuffleBtn">éšæœºé¡ºåº</button>
        <button class="btn" id="wrongTabBtn">é”™é¢˜æœ¬</button>
        <button class="btn" id="deckTabBtn" style="display:none">è¿”å›è¯åº“</button>
        <button class="btn" id="miniGameBtn">ğŸ® ç¿»è¯‘æŒ‘æˆ˜</button>
        <button class="btn ghost" id="eggBtn" title="å°æƒŠå–œ">ğŸ</button>
      </div>
      <div class="hint">æç¤ºï¼šç‚¹å‡»å•è¯å³å¯<span style="color:var(--ok)">å‘éŸ³ + æ˜¾ç¤ºç¿»è¯‘</span>ï¼›ğŸ“Œå›¾é’‰åŠ å…¥é”™é¢˜æœ¬ï¼›ğŸ’¬æŸ¥çœ‹ä¾‹å¥ã€‚</div>
    </header>

    <section id="wordsView">
      <div class="grid" id="grid"></div>
    </section>

    <section id="sentencesView" style="display:none">
      <div class="controls" style="margin-top:4px">
        <button class="btn" id="shuffleSentBtn">æ¢ä¸€ç»„ä¾‹å¥</button>
        <button class="btn ghost" id="showAllZhSent">æ˜¾ç¤ºå…¨éƒ¨è¯‘æ–‡</button>
        <button class="btn ghost" id="hideAllZhSent">éšè—å…¨éƒ¨è¯‘æ–‡</button>
      </div>
      <div class="sentences" id="sentences"></div>
    </section>

    <footer class="foot">
      <div id="status">å›åˆ <span id="roundIdx">1</span>/<span id="roundTotal">1</span> Â· æœ¬å›åˆè¯æ•° <span id="roundCount">0</span> Â· é”™é¢˜æœ¬ <span id="wrongCount">0</span></div>
      <div class="meter"><div class="bar" id="bar"></div></div>
    </footer>
  </div>

  <!-- ä¾‹å¥å¼¹çª— -->
  <div class="modal" id="exampleModal" aria-hidden="true">
    <div class="dialog">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
        <h3 id="exTitle" style="margin:0;color:#151B32">ä¾‹å¥</h3>
        <button class="btn" id="closeEx">å…³é—­</button>
      </div>
      <div style="margin-top:10px" id="exContent"></div>
    </div>
  </div>

  <!-- ç¿»è¯‘æŒ‘æˆ˜å¼¹çª— -->
  <div class="modal" id="quizModal" aria-hidden="true">
    <div class="dialog">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
        <h3 id="quizTitle" style="margin:0;color:#151B32">ğŸ¯ ç¿»è¯‘æŒ‘æˆ˜ï¼ˆè¾“å…¥ä¸­æ–‡ä¹‰ï¼‰</h3>
        <button class="btn" id="closeQuiz">å…³é—­</button>
      </div>
      <div id="quizWrap" style="margin-top:12px"></div>
    </div>
  </div>

  <div class="burst" id="burst"></div>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¯åº“ï¼ˆå”¯ä¸€è¯æ¡ï¼‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* è¿™é‡Œæ”¾çš„æ˜¯ä½ ç»™æˆ‘çš„æ–°å¢é‚£æ‰¹è¯ï¼ˆå¯ç»§ç»­æ‰©å±•ï¼‰ã€‚è‹¥ä½ æœ‰æ›´æ—©çš„ baseï¼Œä¹Ÿå¯ä»¥åˆå¹¶ã€‚ */
const base = [
  {t:'overcome', cn:'å…‹æœ', ex:[
    'To overcome insecurity, she adopted an incremental strategy and postponed any restrictive options until more data became available.',
    'ä¸ºå…‹æœä¸å®‰å…¨æ„Ÿï¼Œå¥¹é‡‡ç”¨æ¸è¿›å¼ç­–ç•¥ï¼Œå¹¶å°†ä»»ä½•å¸¦é™åˆ¶æ€§çš„é€‰é¡¹æ¨è¿Ÿåˆ°æœ‰æ›´å¤šæ•°æ®å¯ç”¨ä¸ºæ­¢ã€‚'
  ]},
  {t:'encourage', cn:'é¼“åŠ±', ex:[
    'We encourage international students to register early, adapt to the new ecosystem, and engage with the survey before choosing an option.',
    'æˆ‘ä»¬é¼“åŠ±å›½é™…å­¦ç”Ÿå°½æ—©æ³¨å†Œï¼Œé€‚åº”æ–°çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå¹¶åœ¨é€‰æ‹©é€‰é¡¹å‰å…ˆå‚ä¸é—®å·ã€‚'
  ]},
  {t:'recommend', cn:'æ¨èï¼›å»ºè®®', ex:[
    'The accountant would recommend a conservative loan strategy to reduce potential loss and maintain steady cash movement.',
    'ä¼šè®¡ä¼šå»ºè®®é‡‡å–ä¿å®ˆçš„è´·æ¬¾ç­–ç•¥ï¼Œä»¥é™ä½æ½œåœ¨æŸå¤±å¹¶ä¿æŒç°é‡‘æµç¨³å®šã€‚'
  ]},
  {t:'expose', cn:'æš´éœ²ï¼›æ­ç¤º', ex:[
    'The survey exposed a substantial shortage of proper maintenance in traditional housing, resulting in negative health consequences.',
    'è¿™ä»½è°ƒæŸ¥æ­ç¤ºå‡ºä¼ ç»Ÿä½å®…åœ¨è§„èŒƒç»´æŠ¤æ–¹é¢å­˜åœ¨æ˜¾è‘—çŸ­ç¼ºï¼Œå¸¦æ¥ä¸è‰¯çš„å¥åº·åæœã€‚'
  ]},
  {t:'postpone', cn:'æ¨è¿Ÿ', ex:[
    'Due to an urgent notification, we postponed the harvest and arranged an alternative option instead.',
    'ç”±äºæ”¶åˆ°ç´§æ€¥é€šçŸ¥ï¼Œæˆ‘ä»¬æ¨è¿Ÿäº†æ”¶è·ï¼Œå¹¶æ”¹ä¸ºå®‰æ’äº†å¤‡é€‰æ–¹æ¡ˆã€‚'
  ]},
  {t:'arrange', cn:'å®‰æ’ï¼›ç­¹åˆ’', ex:[
    'Please arrange a proper recipe for the event, reserve a venue at equal distance, and send notifications to all accounts.',
    'è¯·ä¸ºæ´»åŠ¨å®‰æ’åˆé€‚çš„èœå•ï¼Œé¢„ç•™è·ç¦»ç›¸è¿‘çš„åœºåœ°ï¼Œå¹¶å‘æ‰€æœ‰è´¦å·å‘é€é€šçŸ¥ã€‚'
  ]},
  {t:'conserve', cn:'ä¿æŠ¤ï¼›ä¿å­˜', ex:[
    'To conserve the coastal habitat, the plan adopts restrictive zoning and encourages residents to reduce water use.',
    'ä¸ºä¿æŠ¤æµ·å²¸æ –æ¯åœ°ï¼Œæ–¹æ¡ˆé‡‡ç”¨äº†é™åˆ¶æ€§åˆ†åŒºï¼Œå¹¶é¼“åŠ±å±…æ°‘å‡å°‘ç”¨æ°´ã€‚'
  ]},
  {t:'discourage', cn:'é˜»æ­¢ï¼›æ‰“æ¶ˆ', ex:[
    'The policy discourages unintentional waste by exposing the real cost and recommending adaptable recipes to reuse leftovers.',
    'è¯¥æ”¿ç­–é€šè¿‡æ­ç¤ºçœŸå®æˆæœ¬å¹¶æ¨èå¯è°ƒæ•´çš„èœè°±æ¥å†åˆ©ç”¨å‰©èœï¼Œä»è€ŒæŠ‘åˆ¶æ— æ„çš„æµªè´¹ã€‚'
  ]},
  {t:'reduce', cn:'å‡å°‘ï¼›é™ä½', ex:[
    'We reduced rent by adopting a broader pricing option, which significantly increased potential engagement.',
    'æˆ‘ä»¬é‡‡ç”¨æ›´å®½æ³›çš„å®šä»·é€‰é¡¹æ¥é™ä½æˆ¿ç§Ÿï¼Œä»è€Œæ˜¾è‘—æå‡äº†æ½œåœ¨å‚ä¸åº¦ã€‚'
  ]},
  {t:'request', cn:'è¯·æ±‚ï¼›ç”³è¯·', ex:[
    'Your request to postpone the loan requires approval; please register online and quote your account number.',
    'ä½ å…³äºæ¨è¿Ÿè´·æ¬¾çš„è¯·æ±‚éœ€è¦å®¡æ‰¹ï¼›è¯·åœ¨çº¿æ³¨å†Œå¹¶æ³¨æ˜ä½ çš„è´¦å·ã€‚'
  ]},
  {t:'responsibility', cn:'è´£ä»»', ex:[
    'It is your responsibility to arrange proper maintenance and report any loss immediately.',
    'å®‰æ’è§„èŒƒç»´æŠ¤å¹¶ç«‹åˆ»ä¸ŠæŠ¥ä»»ä½•æŸå¤±æ˜¯ä½ çš„è´£ä»»ã€‚'
  ]},
  {t:'consequence', cn:'åæœï¼›ç»“æœ', ex:[
    'One consequence of a restrictive strategy is reduced engagement and a shortage of available options.',
    'é™åˆ¶æ€§ç­–ç•¥çš„ä¸€ä¸ªåæœæ˜¯å‚ä¸åº¦é™ä½ã€å¯ç”¨é€‰é¡¹çŸ­ç¼ºã€‚'
  ]},
  {t:'psychology', cn:'å¿ƒç†å­¦ï¼›å¿ƒç†', ex:[
    'Consumer psychology shows that broad options can encourage choice but also expose insecurity.',
    'æ¶ˆè´¹è€…å¿ƒç†è¡¨æ˜ï¼Œå®½æ³›çš„é€‰é¡¹èƒ½é¼“åŠ±é€‰æ‹©ï¼Œä½†ä¹Ÿå¯èƒ½æš´éœ²ä¸å®‰å…¨æ„Ÿã€‚'
  ]},
  {t:'insecurity', cn:'ä¸å®‰å…¨æ„Ÿ', ex:[
    'Her insecurity about the novel concept discouraged her from adopting the approach despite substantial potential.',
    'å¥¹å¯¹è¿™ä¸€æ–°æ¦‚å¿µçš„ä¸å®‰å…¨æ„Ÿä½¿å¥¹æ”¾å¼ƒé‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œå°½ç®¡å…¶æ½œåŠ›å¯è§‚ã€‚'
  ]},
  {t:'approach', cn:'æ–¹æ³•ï¼›é€”å¾„', ex:[
    'Our approach is to survey the ecosystem, register the risks, and adapt the strategy before any attack on the problem.',
    'æˆ‘ä»¬çš„æ–¹æ³•æ˜¯å…ˆè°ƒç ”ç”Ÿæ€ç³»ç»Ÿã€ç™»è®°é£é™©å¹¶è°ƒæ•´ç­–ç•¥ï¼Œå†ç€æ‰‹æ”»å…‹é—®é¢˜ã€‚'
  ]},
  {t:'concept', cn:'æ¦‚å¿µï¼›è§‚å¿µ', ex:[
    'The concept of equal access recommends reducing distance barriers and providing available loans.',
    'â€œå¹³ç­‰è·å–â€çš„æ¦‚å¿µå»ºè®®å‡å°‘è·ç¦»éšœç¢ï¼Œå¹¶æä¾›å¯ç”¨çš„è´·æ¬¾ã€‚'
  ]},
  {t:'maintenance', cn:'ç»´æŠ¤ï¼›ä¿å…»', ex:[
    'Regular maintenance reduces unintentional failures and keeps the wheel assembly steady during movement.',
    'å®šæœŸç»´æŠ¤å¯å‡å°‘æ— æ„çš„æ•…éšœï¼Œå¹¶åœ¨è¿åŠ¨ä¸­ä¿æŒè½¦è½®ç»„ä»¶çš„ç¨³å®šã€‚'
  ]},
  {t:'ecosystem', cn:'ç”Ÿæ€ç³»ç»Ÿ', ex:[
    'A healthy ecosystem requires habitat conservation, proper waste reduction, and engagement across international borders.',
    'å¥åº·çš„ç”Ÿæ€ç³»ç»Ÿéœ€è¦æ –æ¯åœ°ä¿æŠ¤ã€è§„èŒƒçš„å‡åºŸï¼Œä»¥åŠè·¨å›½å‚ä¸ã€‚'
  ]},
  {t:'habitat', cn:'æ –æ¯åœ°', ex:[
    'The team surveyed the wetland habitat and adopted a strategy to reserve corridors for animal movement.',
    'å›¢é˜Ÿè°ƒæŸ¥äº†æ¹¿åœ°æ –æ¯åœ°ï¼Œå¹¶é‡‡å–ç­–ç•¥é¢„ç•™åŠ¨ç‰©è¿å¾™å»Šé“ã€‚'
  ]},
  {t:'loan', cn:'è´·æ¬¾', ex:[
    'We recommend a loan only if the accountant can account for the risk of loss and quote a proper rate.',
    'åªæœ‰å½“ä¼šè®¡èƒ½æ¸…æ¥šæ ¸ç®—æŸå¤±é£é™©å¹¶æŠ¥å‡ºåˆé€‚åˆ©ç‡æ—¶ï¼Œæˆ‘ä»¬æ‰å»ºè®®è´·æ¬¾ã€‚'
  ]},
  {t:'notification', cn:'é€šçŸ¥ï¼›é€šå‘Š', ex:[
    'You will receive a notification to register, arrange your duty schedule, and confirm any urgent request.',
    'ä½ å°†æ”¶åˆ°é€šçŸ¥ä»¥è¿›è¡Œæ³¨å†Œã€å®‰æ’å€¼ç­æ—¥ç¨‹ï¼Œå¹¶ç¡®è®¤ä»»ä½•ç´§æ€¥è¯·æ±‚ã€‚'
  ]},
  {t:'strategy', cn:'ç­–ç•¥ï¼›æˆ˜ç•¥', ex:[
    'Our strategy is to broaden available options, discourage negative attacks, and encourage steady engagement.',
    'æˆ‘ä»¬çš„ç­–ç•¥æ˜¯æ‰©å¤§å¯ç”¨é€‰é¡¹ã€æŠ‘åˆ¶è´Ÿé¢æ”»å‡»ï¼Œå¹¶é¼“åŠ±ç¨³å®šå‚ä¸ã€‚'
  ]},
  {t:'unintentional', cn:'æ— æ„çš„ï¼›éæœ¬æ„çš„', ex:[
    'An unintentional data exposure can significantly reduce trust and require international notification by law.',
    'ä¸€æ¬¡æ— æ„çš„æ•°æ®æ³„éœ²ä¼šæ˜¾è‘—é™ä½ä¿¡ä»»ï¼Œå¹¶ä¾æ³•éœ€è¦è¿›è¡Œå›½é™…é€šæŠ¥ã€‚'
  ]},
  {t:'available', cn:'å¯ç”¨çš„ï¼›å¯è·å¾—çš„', ex:[
    'Several available options allow you to postpone payment, adopt a cheaper rent, or request a loan.',
    'å¤šç§å¯ç”¨é€‰é¡¹å…è®¸ä½ æ¨è¿Ÿä»˜æ¬¾ã€é‡‡ç”¨æ›´ä½çš„æˆ¿ç§Ÿï¼Œæˆ–ç”³è¯·è´·æ¬¾ã€‚'
  ]},
  {t:'international', cn:'å›½é™…çš„', ex:[
    'International students often adopt flexible strategies to overcome distance and register despite time zones.',
    'å›½é™…å­¦ç”Ÿå¾€å¾€é‡‡ç”¨çµæ´»ç­–ç•¥æ¥å…‹æœè·ç¦»éšœç¢ï¼Œå¹¶åœ¨æ—¶å·®ä¸‹å®Œæˆæ³¨å†Œã€‚'
  ]},
  {t:'novel', cn:'æ–°é¢–çš„ï¼›å°è¯´çš„', ex:[
    'The novel ecosystem model recommends conserving habitat while allowing adaptable human movement.',
    'è¿™ä¸ªæ–°é¢–çš„ç”Ÿæ€ç³»ç»Ÿæ¨¡å‹å»ºè®®åœ¨ä¿æŠ¤æ –æ¯åœ°çš„åŒæ—¶ï¼Œå…è®¸å¯è°ƒæ•´çš„äººç±»æ´»åŠ¨ã€‚'
  ]},
  {t:'restrictive', cn:'é™åˆ¶æ€§çš„', ex:[
    'Restrictive policies may discourage engagement, reduce potential growth, and postpone novel approaches.',
    'é™åˆ¶æ€§æ”¿ç­–å¯èƒ½æŠ‘åˆ¶å‚ä¸ã€é™ä½æ½œåœ¨å¢é•¿ï¼Œå¹¶æ¨è¿Ÿæ–°æ–¹æ³•çš„å®æ–½ã€‚'
  ]},
  {t:'substantial', cn:'å¤§é‡çš„ï¼›å®è´¨æ€§çš„', ex:[
    'A substantial shortage of parts forced us to adopt a broad procurement strategy and postpone the project.',
    'é›¶ä»¶çš„å¤§é‡çŸ­ç¼ºè¿«ä½¿æˆ‘ä»¬é‡‡å–å¹¿åŸŸé‡‡è´­ç­–ç•¥ï¼Œå¹¶æ¨è¿Ÿé¡¹ç›®ã€‚'
  ]},
  {t:'traditional', cn:'ä¼ ç»Ÿçš„', ex:[
    'Traditional recipes can be adapted to reduce sugar and respect restrictive diets without losing flavor.',
    'ä¼ ç»Ÿèœè°±å¯ä»¥è¿›è¡Œæ”¹è‰¯ä»¥å‡å°‘ç³–åˆ†ï¼Œå¹¶å°Šé‡é™åˆ¶æ€§é¥®é£Ÿï¼ŒåŒæ—¶ä¸å¤±é£å‘³ã€‚'
  ]},
  {t:'significantly', cn:'æ˜¾è‘—åœ°', ex:[
    'The new approach significantly reduced maintenance costs and encouraged broader engagement.',
    'æ–°æ–¹æ³•æ˜¾è‘—é™ä½äº†ç»´æŠ¤æˆæœ¬ï¼Œå¹¶é¼“åŠ±äº†æ›´å¹¿æ³›çš„å‚ä¸ã€‚'
  ]},
  {t:'type', cn:'ç±»å‹', ex:[
    'Please select the account type and register your option before the deadline.',
    'è¯·åœ¨æˆªæ­¢æ—¥æœŸå‰é€‰æ‹©è´¦å·ç±»å‹å¹¶ç™»è®°ä½ çš„é€‰é¡¹ã€‚'
  ]},
  {t:'movement', cn:'è¿åŠ¨ï¼›ç§»åŠ¨', ex:[
    'The survey recorded steady movement across the bridge despite the distance and strong wind.',
    'å°½ç®¡è·ç¦»è¿œä¸”é£åŠ›å¼ºï¼Œè°ƒæŸ¥ä»è®°å½•åˆ°ç¨³å®šçš„æ¡¥ä¸Šé€šè¡Œã€‚'
  ]},
  {t:'shortage', cn:'çŸ­ç¼º', ex:[
    'The report quotes a shortage of accountants, which could reduce available loan options and increase rent.',
    'æŠ¥å‘Šå¼•ç”¨çš„æ•°æ®æ˜¾ç¤ºä¼šè®¡äººå‘˜çŸ­ç¼ºï¼Œè¿™å¯èƒ½å‡å°‘å¯ç”¨è´·æ¬¾é€‰é¡¹å¹¶æ¨é«˜æˆ¿ç§Ÿã€‚'
  ]},
  {t:'loss', cn:'æŸå¤±', ex:[
    'To prevent loss, the strategy recommends adopting backups and arranging proper maintenance.',
    'ä¸ºé˜²æ­¢æŸå¤±ï¼Œç­–ç•¥å»ºè®®é‡‡ç”¨å¤‡ä»½å¹¶å®‰æ’è§„èŒƒç»´æŠ¤ã€‚'
  ]},
  {t:'broad', cn:'å¹¿æ³›çš„ï¼›å®½çš„', ex:[
    'We prefer a broad approach that engages multiple ecosystems and international partners.',
    'æˆ‘ä»¬æ›´å€¾å‘äºä¸€ç§èƒ½è”ç»“å¤šé‡ç”Ÿæ€ç³»ç»Ÿä¸å›½é™…ä¼™ä¼´çš„å¹¿æ³›æ–¹æ³•ã€‚'
  ]},
  {t:'broaden', cn:'æ‹“å®½ï¼›æ‰©å¤§', ex:[
    'We broaden options to encourage equal access and reduce insecurity.',
    'æˆ‘ä»¬æ‰©å¤§é€‰é¡¹ä»¥é¼“åŠ±å¹³ç­‰è·å–ï¼Œå¹¶é™ä½ä¸å®‰å…¨æ„Ÿã€‚'
  ]},
  {t:'attack', cn:'æŠ¨å‡»ï¼›æ”»å‡»', ex:[
    'A negative attack on the concept only exposes insecurity and discourages engagement.',
    'å¯¹è¯¥æ¦‚å¿µçš„è´Ÿé¢æŠ¨å‡»åªä¼šæš´éœ²ä¸å®‰å…¨æ„Ÿå¹¶æ‰“å‡»å‚ä¸ã€‚'
  ]},
  {t:'register', cn:'æ³¨å†Œï¼›ç™»è®°', ex:[
    'You must register for the survey, request a quote, and confirm your preferred option.',
    'ä½ å¿…é¡»ç™»è®°å‚ä¸è°ƒæŸ¥ã€ç´¢å–æŠ¥ä»·ï¼Œå¹¶ç¡®è®¤ä½ çš„ä¼˜é€‰æ–¹æ¡ˆã€‚'
  ]},
  {t:'potential', cn:'æ½œåŠ›ï¼›æ½œåœ¨çš„', ex:[
    'The accountant evaluated the potential loss and recommended postponing any loan.',
    'ä¼šè®¡è¯„ä¼°äº†æ½œåœ¨æŸå¤±ï¼Œå¹¶å»ºè®®æš‚ç¼“ä»»ä½•è´·æ¬¾ã€‚'
  ]},
  {t:'option', cn:'é€‰é¡¹', ex:[
    'One option is to rent equipment; another is to adopt a maintenance plan to reduce costs.',
    'ä¸€ä¸ªé€‰é¡¹æ˜¯ç§Ÿè®¾å¤‡ï¼›å¦ä¸€ä¸ªæ˜¯é‡‡ç”¨ç»´æŠ¤è®¡åˆ’æ¥é™ä½æˆæœ¬ã€‚'
  ]},
  {t:'adapt', cn:'é€‚åº”ï¼›æ”¹ç¼–', ex:[
    'We adapted the traditional recipe to conserve water and respect cultural habits.',
    'æˆ‘ä»¬æ”¹è‰¯äº†ä¼ ç»Ÿé£Ÿè°±ï¼Œä»¥èŠ‚æ°´å¹¶å°Šé‡æ–‡åŒ–ä¹ æƒ¯ã€‚'
  ]},
  {t:'adaptable', cn:'å¯é€‚åº”çš„ï¼›å¯è°ƒæ•´çš„', ex:[
    'An adaptable strategy allows international teams to overcome distance and engage steadily.',
    'å¯è°ƒæ•´çš„ç­–ç•¥èƒ½è®©å›½é™…å›¢é˜Ÿå…‹æœè·ç¦»å¹¶ç¨³å®šå‚ä¸ã€‚'
  ]},
  {t:'account', cn:'è´¦æˆ·ï¼›è§£é‡Šï¼›è€ƒè™‘', ex:[
    'Please account for unintentional costs and quote a more realistic, substantial budget.',
    'è¯·æŠŠæ— æ„æˆæœ¬è®¡ç®—åœ¨å†…ï¼Œå¹¶ç»™å‡ºæ›´ä¸ºåˆç†ã€å®è´¨çš„é¢„ç®—æŠ¥ä»·ã€‚'
  ]},
  {t:'accountant', cn:'ä¼šè®¡', ex:[
    'The accountant arranged notifications, registered the loan, and recommended a conservative approach.',
    'ä¼šè®¡å®‰æ’äº†é€šçŸ¥ï¼Œç™»è®°äº†è´·æ¬¾ï¼Œå¹¶å»ºè®®é‡‡ç”¨ä¿å®ˆåšæ³•ã€‚'
  ]},
  {t:'adopt', cn:'é‡‡ç”¨ï¼›æ”¶å…»', ex:[
    'They adopted a restrictive policy to conserve habitat while offering available relocation options.',
    'ä»–ä»¬é‡‡ç”¨é™åˆ¶æ€§æ”¿ç­–æ¥ä¿æŠ¤æ –æ¯åœ°ï¼ŒåŒæ—¶æä¾›å¯ç”¨çš„è¿ç§»é€‰é¡¹ã€‚'
  ]},
  {t:'distance', cn:'è·ç¦»', ex:[
    'Long distance can discourage engagement, but international tools significantly reduce the impact.',
    'è¾ƒè¿œè·ç¦»å¯èƒ½æ‰“å‡»å‚ä¸ï¼Œä½†å›½é™…åŒ–å·¥å…·èƒ½æ˜¾è‘—é™ä½å…¶å½±å“ã€‚'
  ]},
  {t:'equal', cn:'å¹³ç­‰çš„ï¼›ç›¸ç­‰çš„', ex:[
    'Our policy ensures equal access, recommending available loans and reduced rent for students.',
    'æˆ‘ä»¬çš„æ”¿ç­–ç¡®ä¿å¹³ç­‰è·å–ï¼Œæ¨èä¸ºå­¦ç”Ÿæä¾›å¯ç”¨è´·æ¬¾å¹¶é™ä½æˆ¿ç§Ÿã€‚'
  ]},
  {t:'instead', cn:'ç›¸åï¼›è€Œä¸æ˜¯', ex:[
    'Instead of an urgent attack, we adopted a steady strategy and broadened options.',
    'æˆ‘ä»¬æ²¡æœ‰æ€¥äºâ€œè¿›æ”»â€ï¼Œè€Œæ˜¯é‡‡ç”¨ç¨³å¥ç­–ç•¥å¹¶æ‰©å¤§äº†é€‰é¡¹ã€‚'
  ]},
  {t:'moreover', cn:'è€Œä¸”ï¼›æ­¤å¤–', ex:[
    'Moreover, the survey quoted significant improvement after we encouraged adaptable, international cooperation.',
    'æ­¤å¤–ï¼Œè°ƒæŸ¥å¼•ç”¨çš„æ•°æ®è¡¨æ˜ï¼Œåœ¨æˆ‘ä»¬é¼“åŠ±å¯è°ƒæ•´çš„å›½é™…åˆä½œåï¼Œæ”¹å–„æ˜¾è‘—ã€‚'
  ]},
  {t:'previous', cn:'å…ˆå‰çš„', ex:[
    'Compared with the previous approach, the novel strategy reduced maintenance costs and broadened engagement.',
    'ä¸å…ˆå‰æ–¹æ³•ç›¸æ¯”ï¼Œè¿™ä¸€æ–°ç­–ç•¥é™ä½äº†ç»´æŠ¤æˆæœ¬å¹¶æ‰©å¤§äº†å‚ä¸ã€‚'
  ]},
  {t:'choice', cn:'é€‰æ‹©', ex:[
    'Her choice to postpone the loan was recommended by the accountant after a negative risk survey.',
    'åœ¨ä¸€ä»½è´Ÿé¢é£é™©è¯„ä¼°åï¼Œä¼šè®¡å»ºè®®å¥¹æ¨è¿Ÿè´·æ¬¾ï¼Œå¥¹ä¹Ÿæ®æ­¤ä½œå‡ºé€‰æ‹©ã€‚'
  ]},
  {t:'wheel', cn:'è½®å­ï¼›è½¦è½®', ex:[
    'A loose wheel can cause loss of control; proper maintenance is not optional.',
    'è½®å­æ¾åŠ¨ä¼šå¯¼è‡´å¤±æ§ï¼›è§„èŒƒç»´æŠ¤ç»ä¸æ˜¯â€œå¯æœ‰å¯æ— â€ã€‚'
  ]},
  {t:'besides', cn:'æ­¤å¤–ï¼›é™¤â€¦ä¹‹å¤–', ex:[
    'Besides rent, your account shows a substantial loan and several international notifications.',
    'é™¤æˆ¿ç§Ÿå¤–ï¼Œä½ çš„è´¦æˆ·è¿˜æ˜¾ç¤ºæœ‰ä¸€ç¬”å¯è§‚è´·æ¬¾å’Œå¤šæ¡å›½é™…é€šçŸ¥ã€‚'
  ]},
  {t:'response', cn:'å›åº”ï¼›ååº”', ex:[
    'Our response was to adopt a broad strategy, encourage engagement, and reduce restrictive barriers.',
    'æˆ‘ä»¬çš„å›åº”æ˜¯é‡‡å–å¹¿åŸŸç­–ç•¥ã€é¼“åŠ±å‚ä¸ï¼Œå¹¶å‡å°‘é™åˆ¶æ€§å£å’ã€‚'
  ]},
  {t:'harvest', cn:'æ”¶è·ï¼›æ”¶å‰²', ex:[
    'To protect the ecosystem, we arranged surveys of animal movement and set restrictive rules on harvest seasons.',
    'ä¸ºä¿æŠ¤ç”Ÿæ€ç³»ç»Ÿï¼Œæˆ‘ä»¬å®‰æ’äº†åŠ¨ç‰©è¿å¾™è°ƒæŸ¥ï¼Œå¹¶å¯¹æ”¶è·å­£è®¾å®šäº†é™åˆ¶æ€§è§„åˆ™ã€‚'
  ]},
  {t:'decorate', cn:'è£…é¥°ï¼›å¸ƒç½®', ex:[
    'We decorated the traditional venue, arranged recipes, and encouraged guests to engage and interact.',
    'æˆ‘ä»¬å¸ƒç½®äº†ä¼ ç»Ÿåœºåœ°ï¼Œå®‰æ’äº†èœå•ï¼Œå¹¶é¼“åŠ±å˜‰å®¾ç§¯æäº’åŠ¨ã€‚'
  ]},
  {t:'survey', cn:'è°ƒæŸ¥ï¼›æµ‹é‡', ex:[
    'The national survey exposed a shortage of habitat and recommended conserving broad corridors.',
    'å…¨å›½è°ƒæŸ¥æ­ç¤ºæ –æ¯åœ°çŸ­ç¼ºï¼Œå¹¶å»ºè®®ä¿æŠ¤å®½é˜”çš„ç”Ÿæ€å»Šé“ã€‚'
  ]},
  {t:'reserve', cn:'é¢„è®¢ï¼›ä¿ç•™', ex:[
    'Please reserve seats at equal distance and request a vegetarian recipe if needed.',
    'è¯·é¢„è®¢å½¼æ­¤è·ç¦»ç›¸è¿‘çš„åº§ä½ï¼Œå¦‚éœ€ç´ é£Ÿèœå•è¯·æå‡ºç”³è¯·ã€‚'
  ]},
  {t:'interact', cn:'äº’åŠ¨ï¼›äº¤äº’', ex:[
    'Students interact in international groups, adopt adaptable strategies, and engage despite distance.',
    'å­¦ç”Ÿåœ¨å›½é™…å°ç»„ä¸­äº’åŠ¨ï¼Œé‡‡ç”¨å¯è°ƒæ•´ç­–ç•¥ï¼Œå¹¶ä¸å› è·ç¦»è€Œæ”¾å¼ƒå‚ä¸ã€‚'
  ]},
  {t:'negative', cn:'æ¶ˆæçš„ï¼›è´Ÿé¢çš„', ex:[
    'Negative quotes on social media significantly reduced engagement and exposed insecurity.',
    'ç¤¾äº¤åª’ä½“ä¸Šçš„è´Ÿé¢è¨€è®ºæ˜¾è‘—é™ä½äº†å‚ä¸åº¦ï¼Œå¹¶æš´éœ²å‡ºä¸å®‰å…¨æ„Ÿã€‚'
  ]},
  {t:'result', cn:'ç»“æœï¼›å¯¼è‡´', ex:[
    'The result of the strategy was substantial: we reduced rent, broadened options, and encouraged steady adoption.',
    'è¯¥ç­–ç•¥çš„ç»“æœæ˜¯æ˜¾è‘—çš„ï¼šæˆ‘ä»¬é™ä½äº†æˆ¿ç§Ÿã€æ‰©å¤§äº†é€‰é¡¹ï¼Œå¹¶é¼“åŠ±äº†ç¨³å®šé‡‡çº³ã€‚'
  ]},
  {t:'demand', cn:'éœ€æ±‚ï¼›è¦æ±‚', ex:[
    'High demand and a shortage of parts forced us to postpone production and request international support.',
    'é«˜éœ€æ±‚ä¸é›¶ä»¶çŸ­ç¼ºè¿«ä½¿æˆ‘ä»¬æ¨è¿Ÿç”Ÿäº§ï¼Œå¹¶å¯»æ±‚å›½é™…æ”¯æŒã€‚'
  ]},
  {t:'proper', cn:'åˆé€‚çš„ï¼›æ­£å½“çš„', ex:[
    'Proper maintenance and steady movement reduce the risk of wheel failure.',
    'è§„èŒƒçš„ç»´æŠ¤ä¸å¹³ç¨³çš„è¿åŠ¨èƒ½é™ä½è½¦è½®æ•…éšœé£é™©ã€‚'
  ]},
  {t:'urgent', cn:'ç´§æ€¥çš„', ex:[
    'An urgent notification asked us to arrange a loan and register the account immediately.',
    'ä¸€åˆ™ç´§æ€¥é€šçŸ¥è¦æ±‚æˆ‘ä»¬ç«‹å³å®‰æ’è´·æ¬¾å¹¶ç™»è®°è´¦æˆ·ã€‚'
  ]},
  {t:'recipe', cn:'èœè°±ï¼›é…æ–¹', ex:[
    'This novel recipe adapts traditional flavors, reduces sugar, and respects restrictive diets.',
    'è¿™é“æ–°é…æ–¹åœ¨ä¿ç•™ä¼ ç»Ÿé£å‘³çš„åŒæ—¶å‡å°‘äº†ç³–åˆ†ï¼Œå¹¶å°Šé‡é™åˆ¶æ€§é¥®é£Ÿã€‚'
  ]},
  {t:'regard', cn:'å…³äºï¼›çœ‹å¾…', ex:[
    'With regard to rent, one option is to request a loan; another is to adopt a savings strategy.',
    'å…³äºæˆ¿ç§Ÿï¼Œä¸€ä¸ªé€‰é¡¹æ˜¯ç”³è¯·è´·æ¬¾ï¼›å¦ä¸€ä¸ªæ˜¯é‡‡ç”¨å‚¨è“„ç­–ç•¥ã€‚'
  ]},
  {t:'rent', cn:'ç§Ÿé‡‘ï¼›ç§Ÿç”¨', ex:[
    'We negotiated the rent and adopted a strategy to reduce costs without sacrificing maintenance.',
    'æˆ‘ä»¬è®®å®šäº†æˆ¿ç§Ÿï¼Œå¹¶é‡‡ç”¨ç­–ç•¥åœ¨ä¸ç‰ºç‰²ç»´æŠ¤çš„å‰æä¸‹é™ä½æˆæœ¬ã€‚'
  ]},
  {t:'respect', cn:'å°Šé‡ï¼›æ–¹é¢', ex:[
    'We respect international diversity and encourage equal opportunities to engage and register.',
    'æˆ‘ä»¬å°Šé‡å›½é™…å¤šæ ·æ€§ï¼Œå¹¶é¼“åŠ±äººäººäº«æœ‰å¹³ç­‰å‚ä¸ä¸æ³¨å†Œçš„æœºä¼šã€‚'
  ]},
  {t:'duty', cn:'èŒè´£ï¼›ä¹‰åŠ¡', ex:[
    'It is your duty to account for expenses, arrange maintenance, and respond to urgent notifications.',
    'ä½ æœ‰ä¹‰åŠ¡æ ¸ç®—å¼€é”€ã€å®‰æ’ç»´æŠ¤å¹¶å¯¹ç´§æ€¥é€šçŸ¥åšå‡ºå›åº”ã€‚'
  ]},
  {t:'engage', cn:'å‚ä¸ï¼›å¸å¼•', ex:[
    'We engage the community with a broad, adaptable approach that significantly reduces insecurity.',
    'æˆ‘ä»¬ä»¥å¹¿æ³›ä¸”å¯è°ƒæ•´çš„æ–¹æ³•åŠ¨å‘˜ç¤¾åŒºï¼Œä»è€Œæ˜¾è‘—é™ä½ä¸å®‰å…¨æ„Ÿã€‚'
  ]},
  {t:'steady', cn:'ç¨³å®šçš„ï¼›ç¨³æ­¥çš„', ex:[
    'A steady approachâ€”survey, register, and adaptâ€”reduced loss and improved potential.',
    'ç¨³å¥çš„æ–¹æ³•â€”â€”è°ƒç ”ã€ç™»è®°ä¸é€‚åº”â€”â€”å‡å°‘äº†æŸå¤±å¹¶æå‡äº†æ½œåŠ›ã€‚'
  ]},
  {t:'quote', cn:'å¼•ç”¨ï¼›æŠ¥ä»·', ex:[
    'Please quote the loan rate, register the account, and arrange options before you adopt a strategy.',
    'è¯·å…ˆæŠ¥å‡ºè´·æ¬¾åˆ©ç‡ã€ç™»è®°è´¦æˆ·å¹¶å®‰æ’å¯é€‰æ–¹æ¡ˆï¼Œå†ç¡®å®šè¦é‡‡ç”¨çš„ç­–ç•¥ã€‚'
  ]},
];

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ„å»ºç´¢å¼•ä¸çŠ¶æ€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const deckOrder = base.map(b=>b.t);               // åŸå§‹é¡ºåºï¼Œç”¨äºè¿˜åŸ
const map = new Map(base.map((b,i)=>[b.t,i]));    // è¯åˆ°ç´¢å¼•
let deck = deckOrder.map(t=>base[map.get(t)]);    // å½“å‰ä¸»è¯åº“é¡ºåºï¼ˆå¯æ´—ç‰Œï¼‰

let currentRound = 0;
const pageSize = 9;
let inSentencesView = false;
let scrambled = false;

let wrongBook = new Set(JSON.parse(localStorage.getItem('wrongBook_v1')||'[]'));
let inWrongMode = false;
let wrongOrder = [...wrongBook]; // ç”¨äºâ€œé”™é¢˜æœ¬â€åˆ—è¡¨çš„ç¨³å®šé¡ºåºï¼ˆå¯æ´—ç‰Œï¼‰

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å·¥å…·å‡½æ•° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function speak(text, lang='en-US'){
  try{
    const u = new SpeechSynthesisUtterance(text);
    const voices = speechSynthesis.getVoices();
    const en = voices.find(v=>/en[-_](US|GB)|English/i.test(v.lang)) || voices[0];
    if(en) u.voice = en; u.lang = en?.lang || lang; u.rate = 0.95; u.pitch = 1; u.volume = 1;
    speechSynthesis.cancel(); speechSynthesis.speak(u);
  }catch(e){console.warn('TTS failed:',e)}
}
function saveWrong(){
  localStorage.setItem('wrongBook_v1', JSON.stringify([...wrongBook]));
  // ç»´æŠ¤ wrongOrder ç¨³å®šé¡ºåºï¼ˆéµå¾ª Set æ’å…¥é¡ºåºï¼‰
  wrongOrder = [...wrongBook];
}
function chunk(arr, size){ const out=[]; for(let i=0;i<arr.length;i+=size) out.push(arr.slice(i,i+size)); return out; }
function randPick(arr, k){ const a=[...arr]; a.sort(()=>Math.random()-0.5); return a.slice(0, k); }
function getWrongDeck(){
  // æ ¹æ® wrongOrder å–è¯æ¡ï¼Œä¿æŒå’Œæ´—ç‰Œåçš„ä¸€è‡´é¡ºåº
  return wrongOrder.map(t=> base[map.get(t)]).filter(Boolean);
}
function setBar(){
  const total = inWrongMode ? getWrongDeck().length : deck.length;
  if(total <= 0){ document.getElementById('bar').style.width = '0%'; return; }
  const totalRounds = Math.max(1, Math.ceil(total/pageSize));
  const pct = ((currentRound) / (totalRounds-1 || 1)) * 100;
  document.getElementById('bar').style.width = pct + '%';
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ¸²æŸ“å‡½æ•° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function renderWords(){
  inSentencesView = false;
  document.getElementById('wordsView').style.display='block';
  document.getElementById('sentencesView').style.display='none';
  document.getElementById('toggleViewBtn').textContent='åˆ‡æ¢åˆ°ä¾‹å¥é¡µ';

  const arr = inWrongMode ? getWrongDeck() : deck;
  const rounds = chunk(arr, pageSize);
  const totalRounds = rounds.length;
  currentRound = Math.max(0, Math.min(currentRound, Math.max(0,totalRounds-1)));
  const round = rounds[currentRound] || [];

  const g = document.getElementById('grid');
  g.innerHTML='';

  if(inWrongMode && arr.length===0){
    g.innerHTML = '<div class="card" style="border-style:dashed;opacity:.9"><div class="term">é”™é¢˜æœ¬æ˜¯ç©ºçš„</div><div class="meta">åœ¨è¯å¡é¡µç‚¹å‡»ğŸ“ŒåŠ å…¥åå†æ¥å¤ä¹ </div></div>';
    document.getElementById('roundIdx').textContent = 0;
    document.getElementById('roundTotal').textContent = 0;
    document.getElementById('roundCount').textContent = 0;
    setBar(); return;
  }

  round.forEach(item=>{
    const card = document.createElement('div');
    card.className='card';

    const tb = document.createElement('div'); tb.className='toolbar';

    const exBtn = document.createElement('button');
    exBtn.className='iconbtn'; exBtn.title='ä¾‹å¥'; exBtn.innerHTML='ğŸ’¬';
    exBtn.onclick = ()=>openExample(item);

    const pin = document.createElement('button');
    pin.className='iconbtn'; pin.title='åŠ å…¥/ç§»å‡ºé”™é¢˜æœ¬'; pin.innerHTML='ğŸ“Œ';
    if(wrongBook.has(item.t)) pin.classList.add('active');
    pin.onclick = ()=>{
      if(wrongBook.has(item.t)) wrongBook.delete(item.t); else wrongBook.add(item.t);
      pin.classList.toggle('active'); saveWrong(); updateFooter();
    };

    tb.appendChild(exBtn); tb.appendChild(pin);

    const term = document.createElement('div');
    term.className='term'; term.textContent = item.t;
    term.setAttribute('role','button');

    const cn = document.createElement('div'); cn.className='cn'; cn.textContent = item.cn;

    term.onclick = ()=>{ speak(item.t); cn.classList.toggle('show'); maybeSurprise(); };

    const meta = document.createElement('div'); meta.className='meta'; meta.textContent='ç‚¹å‡»å•è¯ï¼šå‘éŸ³ + æ˜¾ç¤ºä¸­æ–‡';

    card.appendChild(tb); card.appendChild(term); card.appendChild(cn); card.appendChild(meta);
    g.appendChild(card);
  });

  // è¡¥ä½ï¼ˆä¸è¶³9ä¸ªï¼‰
  const remain = pageSize - round.length;
  for(let i=0;i<remain;i++){
    const ghost = document.createElement('div');
    ghost.className='card';
    ghost.style.opacity=.5; ghost.style.borderStyle='dashed';
    ghost.innerHTML='<div class="meta">ï¼ˆæœ¬å›åˆä¸è¶³ä¹ä¸ªï¼‰</div>';
    g.appendChild(ghost);
  }

  document.getElementById('roundIdx').textContent = (currentRound+1);
  document.getElementById('roundTotal').textContent = totalRounds;
  document.getElementById('roundCount').textContent = round.length;
  setBar();
}

function renderSentences(){
  inSentencesView = true;
  document.getElementById('wordsView').style.display='none';
  document.getElementById('sentencesView').style.display='block';
  document.getElementById('toggleViewBtn').textContent='åˆ‡æ¢åˆ°è¯å¡é¡µ';

  const arr = inWrongMode ? getWrongDeck() : deck;
  const rounds = chunk(arr, pageSize);
  const round = rounds[currentRound] || [];
  const box = document.getElementById('sentences');
  box.innerHTML='';

  if(inWrongMode && arr.length===0){
    const s = document.createElement('div'); s.className='sentence';
    s.innerHTML = '<div class="en">é”™é¢˜æœ¬æš‚æ— ä¾‹å¥</div><div class="zh show">å…ˆå›åˆ°è¯åº“é¡µæ·»åŠ ä¸€äº›ğŸ“Œå§</div>';
    box.appendChild(s); return;
  }

  const k = Math.min(3, Math.max(2, Math.floor(Math.random()*2)+2));
  const pick = randPick(round, Math.min(k, round.length));

  pick.forEach(item=>{
    const s = document.createElement('div'); s.className='sentence';
    const en = document.createElement('div'); en.className='en'; en.textContent=item.ex[0];
    const zh = document.createElement('div'); zh.className='zh'; zh.textContent=item.ex[1];
    s.appendChild(en); s.appendChild(zh);
    s.onclick=()=> zh.classList.toggle('show');
    box.appendChild(s);
  });
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¼¹çª— & äº¤äº’ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function openExample(item){
  document.getElementById('exTitle').textContent = `ğŸ“˜ ${item.t}`;
  const c = document.getElementById('exContent');
  c.innerHTML = '';
  const en = document.createElement('div'); en.className='en'; en.textContent=item.ex[0];
  const zh = document.createElement('div'); zh.className='zh show'; zh.textContent=item.ex[1];
  const p = document.createElement('div'); p.className='hint'; p.textContent='ç‚¹å‡»è‹±æ–‡å‘éŸ³';
  en.onclick=()=>speak(item.ex[0]);
  c.appendChild(en); c.appendChild(zh); c.appendChild(p);
  document.getElementById('exampleModal').classList.add('show');
}

/* æ’’èŠ± */
function confetti(){
  const b = document.getElementById('burst');
  for(let i=0;i<32;i++){
    const p=document.createElement('div'); p.className='piece';
    const x = (window.innerWidth/2)+'px'; const y = '20%';
    const x2 = (Math.random()*100)+'vw'; const y2 = (60+Math.random()*40)+'vh';
    p.style.setProperty('--x', x); p.style.setProperty('--y', y);
    p.style.setProperty('--x2', x2); p.style.setProperty('--y2', y2);
    p.style.background = `linear-gradient(${Math.random()*360}deg, var(--accent), var(--accent2))`;
    p.style.left = (window.innerWidth/2)+'px'; p.style.top='10%';
    b.appendChild(p); setTimeout(()=>p.remove(), 1000);
  }
}

/* ç¿»è¯‘æŒ‘æˆ˜ */
let quizItem = null;
function openQuiz(fromWrong=false, promptText='ğŸ¯ ç¿»è¯‘æŒ‘æˆ˜ï¼ˆè¾“å…¥ä¸­æ–‡ä¹‰ï¼‰'){
  const roundArr = inWrongMode ? (chunk(getWrongDeck(), pageSize)[currentRound]||[]) : (chunk(deck, pageSize)[currentRound]||[]);
  const pool = fromWrong ? getWrongDeck() : (roundArr.length ? roundArr : deck);
  if(pool.length===0){ alert('æœ¬å›åˆæš‚æ— è¯æ¡'); return; }
  quizItem = pool[(Math.random()*pool.length)|0];

  document.getElementById('quizTitle').textContent = promptText;

  const wrap = document.getElementById('quizWrap');
  wrap.innerHTML = '';

  const q = document.createElement('div'); q.className='en'; q.style.marginBottom='8px';
  q.textContent = `è¯·ç¿»è¯‘ï¼š${quizItem.t}`;

  const input = document.createElement('input');
  input.placeholder='è¾“å…¥ä¸­æ–‡æ„æ€';
  input.style.width='100%'; input.style.padding='10px';
  input.style.borderRadius='10px'; input.style.border='1px solid var(--stroke)';
  input.style.background='rgba(255,255,255,.9)'; input.style.color='var(--ink-card)';

  const bar = document.createElement('div'); bar.style.display='flex'; bar.style.gap='8px'; bar.style.marginTop='10px';
  const btn = document.createElement('button'); btn.className='btn primary'; btn.textContent='æäº¤';
  const reveal = document.createElement('button'); reveal.className='btn'; reveal.textContent='æ˜¾ç¤ºç­”æ¡ˆ';
  const addWrong = document.createElement('button'); addWrong.className='btn'; addWrong.textContent='åŠ å…¥é”™é¢˜æœ¬ ğŸ“Œ';
  bar.appendChild(btn); bar.appendChild(reveal); bar.appendChild(addWrong);

  const res = document.createElement('div'); res.className='hint'; res.style.marginTop='8px';

  btn.onclick = ()=>{
    const user = (input.value||'').trim();
    if(!user){ res.textContent='å…ˆè¾“å…¥ä½ çš„ç¿»è¯‘~'; return; }
    const ans = (quizItem.cn||'').replace(/[ï¼›;ï¼Œ,ã€‚]/g,' ');
    let ok=false;
    const parts = ans.split(/\s+/).filter(Boolean);
    for(const p of parts){ if(p && user.includes(p)) { ok=true; break; } }
    if(ok){ res.textContent='âœ… è®°å¾—ä¸é”™ï¼'; confetti(); }
    else { res.textContent='âŒ å†æƒ³æƒ³ã€‚æ­£ç¡®ç­”æ¡ˆï¼š'+quizItem.cn; }
  };
  reveal.onclick = ()=>{ res.textContent='ç­”æ¡ˆï¼š'+quizItem.cn; };
  addWrong.onclick = ()=>{ wrongBook.add(quizItem.t); saveWrong(); updateFooter(); addWrong.classList.add('active'); };

  wrap.appendChild(q); wrap.appendChild(input); wrap.appendChild(bar); wrap.appendChild(res);
  document.getElementById('quizModal').classList.add('show');
}

/* å¶é‡æµ‹éªŒï¼ˆéšæœºå¼¹å‡ºé”™é¢˜æœ¬è¯æˆ–ä¾‹å¥ï¼‰ */
let surpriseCooldown = false;
function maybeSurprise(){
  if (document.querySelector('.modal.show')) return; // å·²æœ‰å¼¹çª—åˆ™ä¸æ‰“æ–­
  if (wrongBook.size === 0) return;
  if (surpriseCooldown) return;

  // è§¦å‘æ¦‚ç‡ï¼šè¯å¡é¡µ 18%ï¼Œä¾‹å¥é¡µ 12%
  const p = inSentencesView ? 0.12 : 0.18;
  if (Math.random() >= p) return;

  surpriseCooldown = true;

  if (Math.random() < 0.5){
    openQuiz(true, 'ğŸ«£ æœ¬å•è¯è¿˜æ²¡æœ‰è®°ç†Ÿå“¦ï¼Œå¿«æ¥å¤ä¹ ä¸€ä¸‹å§~');
  } else {
    const pool = getWrongDeck();
    const item = pool[(Math.random()*pool.length)|0];
    if(!item){ openQuiz(true, 'ğŸ«£ æœ¬å•è¯è¿˜æ²¡æœ‰è®°ç†Ÿå“¦ï¼Œå¿«æ¥å¤ä¹ ä¸€ä¸‹å§~'); }
    else {
      const ex = Array.isArray(item.ex) ? item.ex : [];
      document.getElementById('exTitle').textContent = `ğŸ«£ ä½ è¿˜æ²¡èƒŒè¿‡æˆ‘ï¼š${item.t}`;
      const c = document.getElementById('exContent');
      c.innerHTML = '';
      const tip = document.createElement('div'); tip.className='hint';
      tip.textContent = 'ç‚¹è‹±æ–‡å¯å‘éŸ³ï¼Œç‚¹è¯‘æ–‡å¯æ˜¾ç¤º/éšè—';
      const en = document.createElement('div'); en.className='en';
      en.textContent = ex[0] || '(æš‚æ— ä¾‹å¥)'; en.onclick = ()=> speak(en.textContent);
      const zh = document.createElement('div'); zh.className = 'zh';
      zh.textContent = ex[1] || 'ï¼ˆè¯‘æ–‡æš‚ç¼ºï¼Œå…ˆè‡ªå·±çŒœçŒœï¼‰';
      c.appendChild(tip); c.appendChild(en); c.appendChild(zh);
      document.getElementById('exampleModal').classList.add('show');
    }
  }

  // 20ç§’å†·å´ï¼Œé¿å…è¿‡äºé¢‘ç¹
  setTimeout(()=>{ surpriseCooldown = false; }, 20000);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å…¶ä»–æ§åˆ¶ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function updateFooter(){
  const total = inWrongMode ? getWrongDeck().length : deck.length;
  const rounds = Math.max(1, Math.ceil(total / pageSize));
  document.getElementById('roundTotal').textContent = rounds;
  const roundArr = inWrongMode
    ? (chunk(getWrongDeck(), pageSize)[currentRound] || [])
    : (chunk(deck, pageSize)[currentRound] || []);
  document.getElementById('roundCount').textContent = roundArr.length;
  document.getElementById('roundIdx').textContent = currentRound + 1;
  document.getElementById('wrongCount').textContent = wrongBook.size;
  setBar();
}

function prevRound(){
  if(currentRound>0){ currentRound--; (inSentencesView?renderSentences():renderWords()); updateFooter(); maybeSurprise(); }
}
function nextRound(){
  const total = inWrongMode ? getWrongDeck().length : deck.length;
  const rounds = Math.ceil(total / pageSize);
  if(currentRound < rounds - 1){ currentRound++; (inSentencesView?renderSentences():renderWords()); updateFooter(); maybeSurprise(); }
}
function toggleView(){ inSentencesView ? renderWords() : renderSentences(); updateFooter(); maybeSurprise(); }

function showAllCN(){ document.querySelectorAll('#grid .cn').forEach(el=>el.classList.add('show')); }
function hideAllCN(){ document.querySelectorAll('#grid .cn').forEach(el=>el.classList.remove('show')); }
function showAllZhSent(){ document.querySelectorAll('#sentences .zh').forEach(el=>el.classList.add('show')); }
function hideAllZhSent(){ document.querySelectorAll('#sentences .zh').forEach(el=>el.classList.remove('show')); }

/* æ´—ç‰Œï¼šä¸»è¯åº“ä¸é”™é¢˜æœ¬åˆ†åˆ«ç»´æŠ¤å„è‡ªé¡ºåº */
function resetDeck(){ deck = deckOrder.map(t=>base[map.get(t)]); }
function shuffleDeck(){
  scrambled = !scrambled;
  if(inWrongMode){
    // æ´—ç‰Œé”™é¢˜æœ¬é¡ºåº
    wrongOrder = [...wrongBook];
    if(scrambled) wrongOrder.sort(()=>Math.random()-0.5);
  }else{
    if(scrambled) deck.sort(()=>Math.random()-0.5);
    else resetDeck();
  }
  currentRound = 0;
  (inSentencesView?renderSentences():renderWords());
  updateFooter();
  maybeSurprise();
}

/* åˆ‡æ¢é”™é¢˜æœ¬è§†å›¾ */
function enterWrong(){
  inWrongMode = true; currentRound = 0;
  document.getElementById('deckTabBtn').style.display='inline-flex';
  document.getElementById('wrongTabBtn').style.display='none';
  if(scrambled) wrongOrder.sort(()=>Math.random()-0.5); else wrongOrder = [...wrongBook];
  renderWords(); updateFooter();
}
function leaveWrong(){
  inWrongMode = false; currentRound = 0;
  document.getElementById('deckTabBtn').style.display='none';
  document.getElementById('wrongTabBtn').style.display='inline-flex';
  renderWords(); updateFooter();
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ äº‹ä»¶ç»‘å®š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
window.addEventListener('load', ()=>{
  renderWords();
  updateFooter();
  setTimeout(()=>speechSynthesis.getVoices(), 300); // é¢„çƒ­è¯­éŸ³
});

document.getElementById('prevBtn').onclick = prevRound;
document.getElementById('nextBtn').onclick = nextRound;
document.getElementById('toggleViewBtn').onclick = toggleView;

document.getElementById('showAllBtn').onclick = showAllCN;
document.getElementById('hideAllBtn').onclick = hideAllCN;

document.getElementById('shuffleBtn').onclick = shuffleDeck;
document.getElementById('wrongTabBtn').onclick = enterWrong;
document.getElementById('deckTabBtn').onclick = leaveWrong;

document.getElementById('miniGameBtn').onclick = ()=>openQuiz(false, 'ğŸ¯ ç¿»è¯‘æŒ‘æˆ˜ï¼ˆè¾“å…¥ä¸­æ–‡ä¹‰ï¼‰');
document.getElementById('eggBtn').onclick = confetti;

document.getElementById('shuffleSentBtn').onclick = ()=>{ renderSentences(); maybeSurprise(); };
document.getElementById('showAllZhSent').onclick = showAllZhSent;
document.getElementById('hideAllZhSent').onclick = hideAllZhSent;

/* å…³é—­å¼¹çª—ï¼ˆç‚¹å‡»é®ç½©å¯å…³é—­ï¼‰ */
document.getElementById('closeEx').onclick = ()=>document.getElementById('exampleModal').classList.remove('show');
document.getElementById('exampleModal').addEventListener('click', e=>{ if(e.target.id==='exampleModal') e.currentTarget.classList.remove('show'); });

document.getElementById('closeQuiz').onclick = ()=>document.getElementById('quizModal').classList.remove('show');
document.getElementById('quizModal').addEventListener('click', e=>{ if(e.target.id==='quizModal') e.currentTarget.classList.remove('show'); });

/* æ ‡é¢˜å½©è›‹ï¼šè¿ç‚¹ä¸‰æ¬¡æ ‡é¢˜æ’’èŠ± */
let titleTap = 0;
document.getElementById('title').addEventListener('click',()=>{
  titleTap++; if(titleTap>=3){ confetti(); titleTap=0; }
});
</script>
</body>
</html>
